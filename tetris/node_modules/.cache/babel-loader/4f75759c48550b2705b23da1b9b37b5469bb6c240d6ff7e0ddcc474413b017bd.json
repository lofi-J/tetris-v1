{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { setIsStart } from \"../store/IsStart\";\nexport const useCountDown = isClick => {\n  _s();\n  const [count, setCount] = useState(3);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    let timer;\n    if (isClick && count > 0) {\n      timer = setInterval(() => {\n        setCount(prevCount => prevCount - 1);\n      }, 1000);\n    }\n    if (count <= 0) {\n      dispatch(setIsStart(true));\n    }\n    return () => {\n      clearInterval(timer);\n    };\n  }, [isClick, count, dispatch]);\n  return count;\n};\n_s(useCountDown, \"a/LP3EIxNzRkYwI5sp+92RCvqjw=\", false, function () {\n  return [useDispatch];\n});","map":{"version":3,"names":["useState","useEffect","useDispatch","setIsStart","useCountDown","isClick","_s","count","setCount","dispatch","timer","setInterval","prevCount","clearInterval"],"sources":["/Users/Pajamas/Project/tetris/src/hooks/useCountDown.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { setIsStart } from \"../store/IsStart\";\n\nexport const useCountDown = (isClick) => {\n    const [count, setCount] = useState(3);\n    const dispatch = useDispatch();\n\n    useEffect( () => {\n        let timer;\n        if (isClick && count > 0) {\n            timer = setInterval(() => {\n            setCount((prevCount) => prevCount - 1);\n            }, 1000);\n        }\n        if(count <= 0) {\n            dispatch(setIsStart(true))\n        }\n    \n        return () => {\n            clearInterval(timer);\n        };\n    }, [isClick, count, dispatch]);\n    \n    return count;\n};"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,UAAU,QAAQ,kBAAkB;AAE7C,OAAO,MAAMC,YAAY,GAAIC,OAAO,IAAK;EAAAC,EAAA;EACrC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAC,CAAC,CAAC;EACrC,MAAMS,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAE9BD,SAAS,CAAE,MAAM;IACb,IAAIS,KAAK;IACT,IAAIL,OAAO,IAAIE,KAAK,GAAG,CAAC,EAAE;MACtBG,KAAK,GAAGC,WAAW,CAAC,MAAM;QAC1BH,QAAQ,CAAEI,SAAS,IAAKA,SAAS,GAAG,CAAC,CAAC;MACtC,CAAC,EAAE,IAAI,CAAC;IACZ;IACA,IAAGL,KAAK,IAAI,CAAC,EAAE;MACXE,QAAQ,CAACN,UAAU,CAAC,IAAI,CAAC,CAAC;IAC9B;IAEA,OAAO,MAAM;MACTU,aAAa,CAACH,KAAK,CAAC;IACxB,CAAC;EACL,CAAC,EAAE,CAACL,OAAO,EAAEE,KAAK,EAAEE,QAAQ,CAAC,CAAC;EAE9B,OAAOF,KAAK;AAChB,CAAC;AAACD,EAAA,CArBWF,YAAY;EAAA,QAEJF,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}