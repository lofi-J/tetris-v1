{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState, useRef } from \"react\";\nimport { selectColor } from \"../utill.js/selectColor\";\nimport { initQueue } from \"../utill.js/initQueue\";\nexport const useShapeAndColor = () => {\n  _s();\n  const [blockQueue, setBlockQueue] = useState(initQueue());\n  const shapeRef = useRef(null);\n  const colorRef = useRef(null);\n  const previewShapeRef = useRef(null);\n  const preivewColorRef = useRef(null);\n  const pop = () => {\n    if (blockQueue.length === 1) {\n      const x = blockQueue.pop();\n      setBlockQueue(initQueue());\n      return x;\n    } else {\n      return blockQueue.pop();\n    }\n  };\n  useEffect(() => {\n    shapeRef.current = blockQueue.pop();\n    colorRef.current = selectColor(shapeRef.current);\n    previewShapeRef.current = blockQueue[blockQueue.length - 1];\n    preivewColorRef.current = selectColor(previewShapeRef.current);\n  }, [blockQueue]);\n  return [shapeRef.current, previewShapeRef.current, colorRef.current, preivewColorRef.current, pop];\n};\n_s(useShapeAndColor, \"H+xEitPXM/PGarfaP++BYudiFDg=\");","map":{"version":3,"names":["useEffect","useState","useRef","selectColor","initQueue","useShapeAndColor","_s","blockQueue","setBlockQueue","shapeRef","colorRef","previewShapeRef","preivewColorRef","pop","length","x","current"],"sources":["/Users/Pajamas/Project/tetris/src/hooks/useShapeAndColor.js"],"sourcesContent":["import { useEffect, useState, useRef } from \"react\"\nimport { selectColor } from \"../utill.js/selectColor\";\nimport { initQueue } from \"../utill.js/initQueue\";\n\nexport const useShapeAndColor = () => {\n    const [blockQueue, setBlockQueue] = useState(initQueue());\n    \n    const shapeRef = useRef(null);\n    const colorRef = useRef(null);\n    \n    const previewShapeRef = useRef(null);\n    const preivewColorRef = useRef(null);\n\n    \n    const pop = () => {\n        if(blockQueue.length === 1) {\n            const x = blockQueue.pop();\n            setBlockQueue(initQueue());\n            return x;\n        } else {\n            return blockQueue.pop();\n        }\n    }\n    useEffect( () => {\n        shapeRef.current = blockQueue.pop();\n        colorRef.current = selectColor(shapeRef.current);\n        \n        previewShapeRef.current = blockQueue[blockQueue.length-1];\n        preivewColorRef.current = selectColor(previewShapeRef.current);\n    }, [blockQueue])\n    return [\n        shapeRef.current,\n        previewShapeRef.current,\n        colorRef.current,\n        preivewColorRef.current,\n        pop\n    ];\n}"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AACnD,SAASC,WAAW,QAAQ,yBAAyB;AACrD,SAASC,SAAS,QAAQ,uBAAuB;AAEjD,OAAO,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClC,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGP,QAAQ,CAACG,SAAS,CAAC,CAAC,CAAC;EAEzD,MAAMK,QAAQ,GAAGP,MAAM,CAAC,IAAI,CAAC;EAC7B,MAAMQ,QAAQ,GAAGR,MAAM,CAAC,IAAI,CAAC;EAE7B,MAAMS,eAAe,GAAGT,MAAM,CAAC,IAAI,CAAC;EACpC,MAAMU,eAAe,GAAGV,MAAM,CAAC,IAAI,CAAC;EAGpC,MAAMW,GAAG,GAAGA,CAAA,KAAM;IACd,IAAGN,UAAU,CAACO,MAAM,KAAK,CAAC,EAAE;MACxB,MAAMC,CAAC,GAAGR,UAAU,CAACM,GAAG,CAAC,CAAC;MAC1BL,aAAa,CAACJ,SAAS,CAAC,CAAC,CAAC;MAC1B,OAAOW,CAAC;IACZ,CAAC,MAAM;MACH,OAAOR,UAAU,CAACM,GAAG,CAAC,CAAC;IAC3B;EACJ,CAAC;EACDb,SAAS,CAAE,MAAM;IACbS,QAAQ,CAACO,OAAO,GAAGT,UAAU,CAACM,GAAG,CAAC,CAAC;IACnCH,QAAQ,CAACM,OAAO,GAAGb,WAAW,CAACM,QAAQ,CAACO,OAAO,CAAC;IAEhDL,eAAe,CAACK,OAAO,GAAGT,UAAU,CAACA,UAAU,CAACO,MAAM,GAAC,CAAC,CAAC;IACzDF,eAAe,CAACI,OAAO,GAAGb,WAAW,CAACQ,eAAe,CAACK,OAAO,CAAC;EAClE,CAAC,EAAE,CAACT,UAAU,CAAC,CAAC;EAChB,OAAO,CACHE,QAAQ,CAACO,OAAO,EAChBL,eAAe,CAACK,OAAO,EACvBN,QAAQ,CAACM,OAAO,EAChBJ,eAAe,CAACI,OAAO,EACvBH,GAAG,CACN;AACL,CAAC;AAAAP,EAAA,CAjCYD,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}