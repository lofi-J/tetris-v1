{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/Pajamas/Project/tetris_pro/tetris/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import{styled}from\"styled-components\";import React from\"react\";import{useEffect,useRef}from\"react\";import PreviewCell from\"./PreviewCell\";import{TETROMINOS}from\"../../constants\";import{jsx as _jsx}from\"react/jsx-runtime\";var Preview=function Preview(_ref){var queue=_ref.queue;var grid=Array.from({length:4},function(){return new Array(4).fill(0);});var shapeRef=useRef(0);useEffect(function(){if(queue.isEmpty()){queue.init();}shapeRef.current=queue.items[queue.items.length-1];},[queue,queue.items.length]);var arr=TETROMINOS[shapeRef.current].shape;var color=TETROMINOS[shapeRef.current].color;return arr.length<1?null:/*#__PURE__*/_jsx(StyledPreview,{children:grid.map(function(row,x){return row.map(function(cell,y){var isFilled=arr[x]&&arr[x][y]!==0;return/*#__PURE__*/_jsx(PreviewCell,{filled:isFilled,color:color},\"\".concat(x,\"-\").concat(y));});})});};export default Preview;var StyledPreview=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    display: grid;\\n    grid-template-columns: repeat(4, 1fr);\\n    grid-template-rows: repeat(4, 1fr);\\n    box-sizing: content-box;\\n    background-color: transparent;\\n    width: 100px;\\n    height: 100px;\\n    /* border: 2px solid #111; */\\n\"])));","map":{"version":3,"names":["styled","React","useEffect","useRef","PreviewCell","TETROMINOS","jsx","_jsx","Preview","_ref","queue","grid","Array","from","length","fill","shapeRef","isEmpty","init","current","items","arr","shape","color","StyledPreview","children","map","row","x","cell","y","isFilled","filled","concat","div","_templateObject","_taggedTemplateLiteral"],"sources":["/Users/Pajamas/Project/tetris_pro/tetris/src/components/Tetris/Preview.js"],"sourcesContent":["import { styled } from \"styled-components\";\n\nimport React from \"react\";\nimport { useEffect, useRef } from \"react\";\n\nimport PreviewCell from \"./PreviewCell\";\nimport { TETROMINOS } from \"../../constants\";\n\n\nconst Preview = ({queue}) => {\n    const grid = Array.from({length: 4}, () => new Array(4).fill(0));\n\n    const shapeRef = useRef(0);\n\n    useEffect(() => {\n        if(queue.isEmpty()) {\n            queue.init();\n        }\n        shapeRef.current = queue.items[queue.items.length-1];\n    }, [queue, queue.items.length]);\n\n\n    const arr = TETROMINOS[shapeRef.current].shape;\n    const color = TETROMINOS[shapeRef.current].color;\n    return (\n        arr.length < 1 ? null : \n        <StyledPreview>\n            {grid.map((row, x) =>\n                row.map((cell, y) => {\n                    const isFilled = arr[x] && arr[x][y] !== 0;\n                    return <PreviewCell key={`${x}-${y}`} filled={isFilled} color={color} />;\n                })\n            )}\n        </StyledPreview>\n    );\n}\n\nexport default Preview;\n\nconst StyledPreview = styled.div`\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    grid-template-rows: repeat(4, 1fr);\n    box-sizing: content-box;\n    background-color: transparent;\n    width: 100px;\n    height: 100px;\n    /* border: 2px solid #111; */\n`"],"mappings":"kKAAA,OAASA,MAAM,KAAQ,mBAAmB,CAE1C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAEzC,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,OAASC,UAAU,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAG7C,GAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAAC,IAAA,CAAgB,IAAX,CAAAC,KAAK,CAAAD,IAAA,CAALC,KAAK,CACnB,GAAM,CAAAC,IAAI,CAAGC,KAAK,CAACC,IAAI,CAAC,CAACC,MAAM,CAAE,CAAC,CAAC,CAAE,iBAAM,IAAI,CAAAF,KAAK,CAAC,CAAC,CAAC,CAACG,IAAI,CAAC,CAAC,CAAC,GAAC,CAEhE,GAAM,CAAAC,QAAQ,CAAGb,MAAM,CAAC,CAAC,CAAC,CAE1BD,SAAS,CAAC,UAAM,CACZ,GAAGQ,KAAK,CAACO,OAAO,CAAC,CAAC,CAAE,CAChBP,KAAK,CAACQ,IAAI,CAAC,CAAC,CAChB,CACAF,QAAQ,CAACG,OAAO,CAAGT,KAAK,CAACU,KAAK,CAACV,KAAK,CAACU,KAAK,CAACN,MAAM,CAAC,CAAC,CAAC,CACxD,CAAC,CAAE,CAACJ,KAAK,CAAEA,KAAK,CAACU,KAAK,CAACN,MAAM,CAAC,CAAC,CAG/B,GAAM,CAAAO,GAAG,CAAGhB,UAAU,CAACW,QAAQ,CAACG,OAAO,CAAC,CAACG,KAAK,CAC9C,GAAM,CAAAC,KAAK,CAAGlB,UAAU,CAACW,QAAQ,CAACG,OAAO,CAAC,CAACI,KAAK,CAChD,MACI,CAAAF,GAAG,CAACP,MAAM,CAAG,CAAC,CAAG,IAAI,cACrBP,IAAA,CAACiB,aAAa,EAAAC,QAAA,CACTd,IAAI,CAACe,GAAG,CAAC,SAACC,GAAG,CAAEC,CAAC,QACb,CAAAD,GAAG,CAACD,GAAG,CAAC,SAACG,IAAI,CAAEC,CAAC,CAAK,CACjB,GAAM,CAAAC,QAAQ,CAAGV,GAAG,CAACO,CAAC,CAAC,EAAIP,GAAG,CAACO,CAAC,CAAC,CAACE,CAAC,CAAC,GAAK,CAAC,CAC1C,mBAAOvB,IAAA,CAACH,WAAW,EAAmB4B,MAAM,CAAED,QAAS,CAACR,KAAK,CAAEA,KAAM,KAAAU,MAAA,CAAzCL,CAAC,MAAAK,MAAA,CAAIH,CAAC,CAAqC,CAAC,CAC5E,CAAC,CAAC,EACN,CAAC,CACU,CAAC,CAExB,CAAC,CAED,cAAe,CAAAtB,OAAO,CAEtB,GAAM,CAAAgB,aAAa,CAAGxB,MAAM,CAACkC,GAAG,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,+PAS/B"},"metadata":{},"sourceType":"module","externalDependencies":[]}